# ui/Dockerfile.ui
FROM python:3.11-slim
WORKDIR /app

# On copie TOUT le dossier ui/ dans /app (app.py, requirements-ui.txt, etc.)
COPY . /app

# Installe les dépendances UI
RUN pip install --no-cache-dir -r requirements-ui.txt

# Par défaut en local, parler à l'API publiée via Compose
ENV API_URL=http://api:8000

EXPOSE 8501
CMD ["streamlit","run","app.py","--server.address","0.0.0.0","--server.port","8501"]
